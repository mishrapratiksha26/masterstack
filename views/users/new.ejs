<div class="modal" id="modal-signup">
    <div class="hider"></div>
    <div class="modal-signup-content">
        <h1 class="form_title" id="create_heading">
            Create Account
        </h1><br />
        <form action="/"  id="signup-form" method="post">




            <div class="signup-input-field" class="left-side">
                <label class="left-labels" for="name">Owner name</label>
                <input type="text" class="left" id="name" required />

            </div>
            <div class="signup-input-field" class="right-side">
                <label for="shop_name">Shop Name</label>
                <input type="text" class="left" id="shop_name" required />

            </div>
            <div class="signup-input-field" class="left-side">
                <label class="left-labels" for="gstin">GSTIN</label>
                <input type="text" class="left" id="gstin" required>

            </div>
            <div class="signup-input-field" class="right-side">
                <label for="shop_location">Branch Name:</label>
                <input type="text" class="left" id="shop_location" required />

            </div>
            
           
            <div class="signup-input-field" class="left-side">
                <label class="left-labels" for="email">email Address</label>
                <input type="email" class="left" id="signup-email" required />

            </div>
           

            <div class="signup-input-field" class="left-side">
                <label class="left-labels" for="signup-password">choose password</label>
                <input type="password" class="left" id="signup-password" required />

            </div>
        
            <button class="signupbutton"> sign up </button>
            <a href="/new">continue</a>
            <button type="button" id="cancel-signup"value ="Reload Page" onclick="window.location.reload(true)">cancel</button>

<script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-analytics.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-storage.js"></script>
<script>
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
    apiKey: "AIzaSyCNLo42HAe2ISi-vx1hQY6gdlyz_xHLAHc",
    authDomain: "mastermart-22408.firebaseapp.com",
    projectId: "mastermart-22408",
    storageBucket: "mastermart-22408.appspot.com",
    messagingSenderId: "723072315665",
    appId: "1:723072315665:web:06a3b55e685dced8a7dcb0",
    measurementId: "G-HKV4D9WE2N"
  };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db2 = firebase.firestore();
    var storage = firebase.storage();
    db2.settings({ timeStampsInSnapshots: true });
</script>
<script>

            const signupForm = document.querySelector('#signup-form');
signupForm.addEventListener('submit', (e) => {
    e.preventDefault();
    //get user info

    const email = signupForm['signup-email'].value;
    const password = signupForm['signup-password'].value;


auth.createUserWithEmailAndPassword(email,password).then(cred => {

    return db2.collection('profiles').doc(cred.user.uid).set({
        name: signupForm.name.value,
        shop_name: signupForm.shop_name.value,
        shop_location: signupForm.shop_location.value,
        gstin: signupForm.gstin.value,

    })

    

}).then(()=>{
    const modal = document.querySelector('#modal-signup');
    M.Modal.getInstance(modal).close();
    signupForm.reset();

});



});
</script>